import{u as L,r as g,j as s}from"./index-pePUiUqb.js";const z=()=>{const{t:a}=L(),[f,w]=g.useState(""),[v,I]=g.useState("24"),[m,M]=g.useState(4),[n,j]=g.useState(null),[S,y]=g.useState(null),C=()=>{try{y(null);const t=f.trim(),e=parseInt(v);m===4?A(t,e):V(t,e)}catch(t){y(t.message),j(null)}},A=(t,e)=>{var h;if(!E(t))throw new Error("Invalid IPv4 address");if(e<0||e>32)throw new Error("CIDR must be 0-32");const l=t.split(".").map(Number),o=l[0]<<24|l[1]<<16|l[2]<<8|l[3],i=~((1<<32-e)-1),c=o&i,d=c|~i,b=Math.pow(2,32-e),x=e===31?2:e===32?1:b-2;j({networkAddress:p(c),broadcastAddress:p(d),firstHost:p(c+1),lastHost:p(d-1),totalHosts:b.toLocaleString(),usableHosts:x.toLocaleString(),subnetMask:p(i),wildcardMask:p(~i),binarySubnetMask:((h=i.toString(2).padStart(32,"0").match(/.{1,8}/g))==null?void 0:h.join("."))||"",cidr:e,ipVersion:4})},V=(t,e)=>{if(!B(t))throw new Error("Invalid IPv6 address");if(e<0||e>128)throw new Error("CIDR must be 0-128");const o=R(t).split(":").map(r=>parseInt(r,16)),i=BigInt(128-e),c=i<64n?(2n**i).toString():"> 10^19";let d=[...o],b=[...o];const x=Math.floor(e/16),h=e%16;for(let r=x;r<8;r++)if(r===x&&h>0){const P=65535<<16-h;d[r]=o[r]&P,b[r]=o[r]|~P&65535}else r>x&&(d[r]=0,b[r]=65535);const D=d.map(r=>r.toString(16).padStart(4,"0")).join(":"),N=[...d];N[7]+=1;const H=[...b];H[7]-=1,j({networkAddress:k(D),firstHost:k(N.map(r=>r.toString(16).padStart(4,"0")).join(":")),lastHost:k(H.map(r=>r.toString(16).padStart(4,"0")).join(":")),totalHosts:c,usableHosts:c==="> 10^19"?c:(BigInt(c)-2n).toString(),cidr:e,ipVersion:6})},E=t=>{const e=t.split(".");return e.length!==4?!1:e.every(l=>{const o=parseInt(l);return o>=0&&o<=255&&l===o.toString()})},B=t=>{const e=t.split(":");return!(e.length<3||e.length>8||t.includes("::")&&t.split("::").length>2)},p=t=>[t>>>24&255,t>>>16&255,t>>>8&255,t&255].join("."),R=t=>{if(t.includes("::")){const e=t.split("::"),l=e[0]?e[0].split(":"):[],o=e[1]?e[1].split(":"):[],i=8-l.length-o.length,c=Array(i).fill("0000");return[...l,...c,...o].map(d=>d.padStart(4,"0")).join(":")}return t.split(":").map(e=>e.padStart(4,"0")).join(":")},k=t=>t.split(":").map(o=>o.replace(/^0+/,"")||"0").join(":").replace(/(^|:)(0:)+/,"::");return s.jsxs("div",{className:"space-y-6 animate-fade-in",children:[s.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl shadow-2xl border border-white/20 p-6 sm:p-8",children:[s.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white mb-6",children:a("subnetCalc")}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:a("ipVersion")}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:[4,6].map(t=>s.jsxs("button",{onClick:()=>{M(t),I(t===4?"24":"64")},className:`py-2 px-4 rounded-lg transition text-sm ${m===t?"bg-gradient-to-r from-sky-400 to-white text-slate-800 font-bold":"bg-white/10 text-white hover:bg-white/20"}`,children:["IPv",t]},t))})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"ip-input",className:"block text-sm font-medium text-white mb-2",children:a("ipAddress")}),s.jsx("input",{id:"ip-input",type:"text",className:"w-full bg-white/10 backdrop-blur-sm rounded-lg p-3 text-sm border border-white/30 focus:ring-2 focus:ring-sky-400 focus:border-sky-400 focus:outline-none transition text-white placeholder:text-white/70",placeholder:m===4?"192.168.1.0":"2001:db8::1",value:f,onChange:t=>w(t.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"cidr-input",className:"block text-sm font-medium text-white mb-2",children:a("cidrPrefix")}),s.jsx("input",{id:"cidr-input",type:"number",min:"0",max:m===4?32:128,className:"w-full bg-white/10 backdrop-blur-sm rounded-lg p-3 text-sm border border-white/30 focus:ring-2 focus:ring-sky-400 focus:border-sky-400 focus:outline-none transition text-white placeholder:text-white/70",placeholder:m===4?"24":"64",value:v,onChange:t=>I(t.target.value)})]}),s.jsx("button",{onClick:C,className:"w-full bg-gradient-to-r from-sky-400 to-white text-slate-800 font-bold py-3 px-4 rounded-lg hover:opacity-90 transition-all duration-300 transform hover:scale-105",children:a("calculate")}),S&&s.jsx("p",{className:"text-red-400 text-center text-sm",children:S})]})]}),n&&s.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl shadow-2xl border border-white/20 p-6 sm:p-8 animate-slide-in-up",children:[s.jsxs("h3",{className:"text-xl font-bold text-white mb-4",children:[a("results")," (IPv",n.ipVersion,")"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(u,{label:a("networkAddress"),value:n.networkAddress}),n.broadcastAddress&&s.jsx(u,{label:a("broadcast"),value:n.broadcastAddress}),s.jsx(u,{label:a("firstHost"),value:n.firstHost}),s.jsx(u,{label:a("lastHost"),value:n.lastHost}),n.subnetMask&&s.jsx(u,{label:a("subnetMask"),value:n.subnetMask}),n.wildcardMask&&s.jsx(u,{label:a("wildcard"),value:n.wildcardMask}),s.jsx(u,{label:a("cidr"),value:`/${n.cidr}`}),s.jsx(u,{label:a("totalHosts"),value:n.totalHosts}),s.jsx(u,{label:a("usableHosts"),value:n.usableHosts,highlight:!0})]}),n.binarySubnetMask&&s.jsxs("div",{className:"mt-4 p-4 bg-white/5 rounded-lg",children:[s.jsxs("p",{className:"text-white/70 text-xs mb-1",children:[a("binarySubnetMask"),":"]}),s.jsx("p",{className:"text-white font-mono text-sm break-all",children:n.binarySubnetMask})]})]})]})},u=({label:a,value:f,highlight:w})=>s.jsxs("div",{className:"flex justify-between items-center p-3 bg-white/5 rounded-lg",children:[s.jsxs("span",{className:"text-white/70 text-sm",children:[a,":"]}),s.jsx("span",{className:`font-mono text-sm ${w?"text-sky-400 font-bold":"text-white"} break-all`,children:f})]});export{z as default};
